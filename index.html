<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sconee Archive</title>
    <style>
        /* ==============================
           1. Í∏∞Î≥∏ Ïä§ÌÉÄÏùº (Dark Mode)
           ============================== */
        body { margin: 0; padding: 0; background-color: #121212; color: #ffffff; font-family: 'Helvetica Neue', sans-serif; }
        
        /* ==============================
           2. Ìó§Îçî & ÏùåÏïÖ ÏúÑÏ†Ø
           ============================== */
        header { 
            height: 50vh; 
            background-size: cover; background-position: center;
            display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;
            position: relative;
        }

        h1 { font-size: 3rem; margin-bottom: 10px; font-weight: 700; letter-spacing: 1px; text-shadow: 0 2px 10px rgba(0,0,0,0.5); }
        p { font-size: 1.2rem; color: #e0e0e0; text-shadow: 0 1px 5px rgba(0,0,0,0.5); }

        /* ÏùåÏïÖ ÏúÑÏ†Ø Ïª®ÌÖåÏù¥ÎÑà */
        .music-widget {
            position: absolute; top: 20px; right: 30px;
            background: rgba(0, 0, 0, 0.6); 
            padding: 10px 25px; border-radius: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px); z-index: 1000;
            display: flex; gap: 20px; align-items: center;
        }
        
        /* Ïû•Î•¥ ÏÑ†ÌÉù Î≤ÑÌäº (Ïù¥Î™®Ìã∞ÏΩò Ï†úÍ±∞, Ïã¨ÌîåÌòï) */
        .music-mood-btns { display: flex; gap: 15px; }
        .mood-btn {
            background: transparent; border: none; color: #888;
            font-size: 0.9rem; font-weight: 500; cursor: pointer;
            padding: 4px 0; transition: all 0.3s ease;
        }
        .mood-btn:hover { color: #ccc; }
        .mood-btn.active { color: #fff; font-weight: 700; border-bottom: 2px solid #fff; }

        /* Ïû¨ÏÉù Î≤ÑÌäº */
        #play-btn {
            background: rgba(255,255,255,0.1); color: #fff; 
            border: 1px solid rgba(255,255,255,0.3);
            padding: 8px 18px; border-radius: 20px;
            cursor: pointer; font-size: 0.85rem; font-weight: bold;
            transition: all 0.3s ease;
        }
        #play-btn:hover { background: #fff; color: #000; }
        #play-btn.playing {
            background: #e2a8a8; border-color: #e2a8a8; color: #000;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(226, 168, 168, 0.6); }
            70% { box-shadow: 0 0 0 8px rgba(226, 168, 168, 0); }
            100% { box-shadow: 0 0 0 0 rgba(226, 168, 168, 0); }
        }

        /* ==============================
           3. 3Îã® ÌïÑÌÑ∞ ÏòÅÏó≠
           ============================== */
        .filter-section { padding: 30px 40px; background-color: #1a1a1a; border-bottom: 1px solid #333; }
        .filter-row { display: flex; align-items: center; margin-bottom: 20px; flex-wrap: wrap; }
        .filter-label { width: 80px; font-size: 0.85rem; color: #666; font-weight: bold; text-transform: uppercase; }
        .filter-group { display: flex; gap: 10px; flex-wrap: wrap; }
        .filter-btn {
            background: #333; border: 1px solid #444; color: #ccc;
            padding: 8px 16px; border-radius: 15px; cursor: pointer; font-size: 0.9rem;
            transition: all 0.2s ease;
        }
        .filter-btn:hover, .filter-btn.active { background: #fff; color: #000; border-color: #fff; }

        /* ==============================
           4. Í∞§Îü¨Î¶¨ Í∑∏Î¶¨Îìú
           ============================== */
        .gallery-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px; padding: 40px; min-height: 50vh;
        }
        .gallery-item { background: #1e1e1e; border-radius: 8px; overflow: hidden; transition: transform 0.3s ease; }
        .gallery-item:hover { transform: translateY(-5px); }
        .gallery-item img { width: 100%; height: 250px; object-fit: cover; display: block; }
        .info { padding: 20px; }
        .info h3 { margin: 0 0 10px 0; font-size: 1.1rem; color: #fff; }
        .tags-row { display: flex; gap: 8px; flex-wrap: wrap; }
        .tag-badge { font-size: 0.75rem; padding: 4px 10px; border-radius: 4px; color: #000; font-weight: 600; }
        .tag-space { background-color: #a8d5e2; }
        .tag-vibe { background-color: #e2a8a8; }
        .tag-detail { background-color: #dbe2a8; }

        /* ==============================
           5. Ìë∏ÌÑ∞
           ============================== */
        footer {
            background-color: #000000; color: #333333; text-align: center;
            padding: 80px 20px; font-size: 0.85rem; letter-spacing: 0.5px;
        }
        footer a { color: #333333; text-decoration: none; border-bottom: 1px solid #333; transition: color 0.3s; }
        footer a:hover { color: #666; border-color: #666; }
    </style>
</head>
<body>

    <header id="main-header">
        <h1>sconee Archive</h1>
        <p>Curated Inspiration for Space & Design</p>

        <div class="music-widget">
            <div class="music-mood-btns">
                <button class="mood-btn active" onclick="changeMood('jazz', this)">Jazz</button>
                <button class="mood-btn" onclick="changeMood('chill', this)">Chill</button>
                <button class="mood-btn" onclick="changeMood('classic', this)">Classic</button>
            </div>
            <button id="play-btn" onclick="toggleMusic()">‚ñ∂ Play</button>
            <div id="youtube-player" style="display: none;"></div>
        </div>
    </header>

    <div class="filter-section">
        <div class="filter-row">
            <span class="filter-label">Space</span>
            <div class="filter-group" id="filter-space"><button class="filter-btn active" onclick="filterGallery('space', 'all')">All</button></div>
        </div>
        <div class="filter-row">
            <span class="filter-label">Vibe</span>
            <div class="filter-group" id="filter-vibe"><button class="filter-btn active" onclick="filterGallery('vibe', 'all')">All</button></div>
        </div>
        <div class="filter-row">
            <span class="filter-label">Detail</span>
            <div class="filter-group" id="filter-detail"><button class="filter-btn active" onclick="filterGallery('detail', 'all')">All</button></div>
        </div>
    </div>

    <div class="gallery-grid" id="gallery-grid"></div>

    <footer>
        If you have any inquiry, send email to <a href="mailto:sconee9@gmail.com">sconee9@gmail.com</a>
    </footer>

    <script>
        // ============================================================
        // 1. Ïú†ÌäúÎ∏å ÎÆ§ÏßÅ ÏÑ§Ï†ï (IDÍ∞Ä Ïù¥ÎØ∏ Ï†ÅÏö©ÎêòÏñ¥ ÏûàÏäµÎãàÎã§)
        // ============================================================
        const playlists = {
            'jazz': 'PLxjckBrY2dKgyFDHw95kUds2DaCYJJzkY',    // ÏÇ¨Ïû•ÎãòÏùò Jazz ID
            'chill': 'PLxjckBrY2dKjv04slgG3W39D0nyVdYYoK',   // ÏÇ¨Ïû•ÎãòÏùò Chill ID
            'classic': 'PLxjckBrY2dKgh7NE23RMnP7GBOJsSR2Jf'  // ÏÇ¨Ïû•ÎãòÏùò Classic ID
        };

        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;
        var currentMood = 'jazz';

        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-player', {
                height: '0', width: '0',
                playerVars: { 
                    'listType': 'playlist', 
                    'list': playlists[currentMood], 
                    'autoplay': 0, 
                    'loop': 1,
                    'controls': 0, 
                    'rel': 0       
                },
                events: { 
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange,
                    'onError': onPlayerError
                }
            });
        }

        // [ÌïµÏã¨] Ï§ÄÎπÑÎêòÎ©¥ ÏÖîÌîå ÏºúÍ≥† -> Îã§Ïùå Í≥°ÏúºÎ°ú ÎÑòÍ≤®Î≤ÑÎ¶¨Í∏∞ (Í∞úÏàò Ï†ÅÏñ¥ÎèÑ ÏÑûÏûÑ)
        function onPlayerReady(event) {
            event.target.setShuffle({'shufflePlaylist': true});
            event.target.nextVideo(); 
        }

        function onPlayerError(event) {
            console.error("Player Error:", event.data);
            updateButtonState(false);
            if(event.data === 150 || event.data === 101) alert("üö´ Ïû¨ÏÉù Î∂àÍ∞Ä (Ïú†ÌäúÎ∏å ÏÑ§Ï†ï ÌôïÏù∏)");
        }

        function onPlayerStateChange(event) {
            if (event.data == YT.PlayerState.PLAYING) updateButtonState(true);
            else if (event.data == YT.PlayerState.PAUSED || event.data == YT.PlayerState.ENDED) updateButtonState(false);
        }

        function updateButtonState(isPlaying) {
            var btn = document.getElementById('play-btn');
            if (isPlaying) {
                btn.innerText = "‚è∏ Pause";
                btn.classList.add('playing');
            } else {
                btn.innerText = "‚ñ∂ Play";
                btn.classList.remove('playing');
            }
        }

        function toggleMusic() {
            if (!player || !player.getPlayerState) return;
            var state = player.getPlayerState();
            if (state == YT.PlayerState.PLAYING) player.pauseVideo();
            else player.playVideo();
        }

        // [ÌïµÏã¨] Ïû•Î•¥ Î≥ÄÍ≤Ω Î°úÏßÅ
        function changeMood(mood, btnElement) {
            document.querySelectorAll('.mood-btn').forEach(b => b.classList.remove('active'));
            btnElement.classList.add('active');

            if (currentMood === mood) return; 
            currentMood = mood;
            
            if (playlists[currentMood]) {
                player.loadPlaylist({
                    'list': playlists[currentMood],
                    'listType': 'playlist'
                });

                // Î¶¨Ïä§Ìä∏ Î°úÎìú ÌõÑ 1Ï¥à Îí§Ïóê ÏÖîÌîå -> Îã§Ïùå Í≥° (ÌôïÏã§Ìïú ÎûúÎç§)
                setTimeout(() => {
                    player.setShuffle({'shufflePlaylist': true});
                    player.nextVideo(); 
                }, 1000);
            }
        }

        // ============================================================
        // 2. Í∞§Îü¨Î¶¨ Î°úÏßÅ
        // ============================================================
        let allData = [];
        let currentFilters = { space: 'all', vibe: 'all', detail: 'all' };

        fetch('data.json').then(r => r.json()).then(d => {
            allData = d;
            if(d.length > 0) document.getElementById('main-header').style.backgroundImage = `linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.8)), url('${d[0].img}')`;
            generateFilters(d); renderGallery(d);
        });

        function generateFilters(data) {
            const s=new Set(), v=new Set(), d=new Set();
            data.forEach(i => { if(i.space)s.add(i.space); if(i.vibe)v.add(i.vibe); if(i.detail)d.add(i.detail); if(i.tags&&!i.space)i.tags.split('|').forEach(t=>s.add(t.trim())); });
            createButtons('filter-space', s, 'space'); createButtons('filter-vibe', v, 'vibe'); createButtons('filter-detail', d, 'detail');
        }
        function createButtons(cId, set, type) {
            const c = document.getElementById(cId);
            set.forEach(tag => {
                const b = document.createElement('button'); b.className = 'filter-btn'; b.innerText = tag;
                b.onclick = (e) => { c.querySelectorAll('.filter-btn').forEach(btn=>btn.classList.remove('active')); e.target.classList.add('active'); filterGallery(type, tag); };
                c.appendChild(b);
            });
        }
        function filterGallery(type, val) {
            currentFilters[type] = val;
            renderGallery(allData.filter(i => 
                ((currentFilters.space==='all')||(i.space===currentFilters.space)||(i.tags&&i.tags.includes(currentFilters.space))) &&
                ((currentFilters.vibe==='all')||(i.vibe===currentFilters.vibe)) &&
                ((currentFilters.detail==='all')||(i.detail===currentFilters.detail))
            ));
        }
        function renderGallery(items) {
            const g = document.getElementById('gallery-grid'); g.innerHTML = '';
            items.forEach(i => {
                const d = document.createElement('div'); d.className = 'gallery-item';
                let h = ''; if(i.space)h+=`<span class="tag-badge tag-space">${i.space}</span>`; if(i.vibe)h+=`<span class="tag-badge tag-vibe">${i.vibe}</span>`; if(i.detail)h+=`<span class="tag-badge tag-detail">${i.detail}</span>`; if(i.tags&&!i.space)h+=`<span class="tag-badge tag-space">${i.tags}</span>`;
                d.innerHTML = `<a href="${i.img}" target="_blank"><img src="${i.img}" alt="${i.title}" loading="lazy"></a><div class="info"><h3>${i.title}</h3><div class="tags-row">${h}</div></div>`;
                g.appendChild(d);
            });
        }
    </script>
</body>
</html>