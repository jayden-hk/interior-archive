<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sconee Archive</title>
    <style>
        /* ==============================
           1. Í∏∞Î≥∏ Ïä§ÌÉÄÏùº
           ============================== */
        body { 
            margin: 0; 
            padding: 0; 
            background-color: #121212; 
            color: #ffffff; 
            font-family: 'Helvetica Neue', sans-serif; 
        }
        
        /* ==============================
           2. Ìó§Îçî & ÏùåÏïÖ ÏúÑÏ†Ø (Clean Ver.)
           ============================== */
        header { 
            height: 50vh; 
            background-size: cover; 
            background-position: center;
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center; 
            text-align: center;
            position: relative;
        }

        /* ÏöîÏ≤≠ÌïòÏã† ÏÜåÎ¨∏Ïûê 's' Ï†ÅÏö© */
        h1 { 
            font-size: 3rem; 
            margin-bottom: 10px; 
            font-weight: 700; 
            letter-spacing: 1px; 
            text-shadow: 0 2px 10px rgba(0,0,0,0.5); 
        }
        
        p { 
            font-size: 1.2rem; 
            color: #e0e0e0; 
            text-shadow: 0 1px 5px rgba(0,0,0,0.5); 
        }

        /* ÏùåÏïÖ ÏúÑÏ†Ø Ïª®ÌÖåÏù¥ÎÑà */
        .music-widget {
            position: absolute; 
            top: 20px; 
            right: 30px;
            background: rgba(0, 0, 0, 0.6); 
            padding: 10px 25px; 
            border-radius: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px); 
            z-index: 1000;
            display: flex; 
            gap: 20px; 
            align-items: center;
        }
        
        /* Î¨¥Îìú ÏÑ†ÌÉù Î≤ÑÌäº Í∑∏Î£π */
        .music-mood-btns {
            display: flex; 
            gap: 15px;
        }
        
        .mood-btn {
            background: transparent; 
            border: none;
            color: #888; /* Í∏∞Î≥∏: ÌöåÏÉâ */
            font-size: 0.9rem; 
            font-weight: 500; 
            cursor: pointer;
            padding: 4px 0; 
            transition: all 0.3s ease;
        }
        
        .mood-btn:hover { 
            color: #ccc; 
        }
        
        /* ÏÑ†ÌÉùÎêú Î≤ÑÌäº Í∞ïÏ°∞ Ïä§ÌÉÄÏùº */
        .mood-btn.active { 
            color: #fff; 
            font-weight: 700; 
            border-bottom: 2px solid #fff; 
        }

        /* Ïû¨ÏÉù Î≤ÑÌäº Ïä§ÌÉÄÏùº */
        #play-btn {
            background: rgba(255,255,255,0.1); 
            color: #fff; 
            border: 1px solid rgba(255,255,255,0.3);
            padding: 8px 18px; 
            border-radius: 20px;
            cursor: pointer; 
            font-size: 0.85rem; 
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        #play-btn:hover { 
            background: #fff; 
            color: #000; 
        }
        
        #play-btn.playing {
            background: #e2a8a8; 
            border-color: #e2a8a8; 
            color: #000;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(226, 168, 168, 0.6); }
            70% { box-shadow: 0 0 0 8px rgba(226, 168, 168, 0); }
            100% { box-shadow: 0 0 0 0 rgba(226, 168, 168, 0); }
        }

        /* ==============================
           3. 3Îã® ÌïÑÌÑ∞ ÏòÅÏó≠
           ============================== */
        .filter-section { 
            padding: 30px 40px; 
            background-color: #1a1a1a; 
            border-bottom: 1px solid #333; 
        }
        
        .filter-row { 
            display: flex; 
            align-items: center; 
            margin-bottom: 20px; 
            flex-wrap: wrap; 
        }
        
        .filter-label { 
            width: 80px; 
            font-size: 0.85rem; 
            color: #666; 
            font-weight: bold; 
            text-transform: uppercase; 
        }
        
        .filter-group { 
            display: flex; 
            gap: 10px; 
            flex-wrap: wrap; 
        }
        
        .filter-btn {
            background: #333; 
            border: 1px solid #444; 
            color: #ccc;
            padding: 8px 16px; 
            border-radius: 15px; 
            cursor: pointer; 
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }
        
        .filter-btn:hover, .filter-btn.active { 
            background: #fff; 
            color: #000; 
            border-color: #fff; 
        }

        /* ==============================
           4. Í∞§Îü¨Î¶¨ Í∑∏Î¶¨Îìú ÏòÅÏó≠
           ============================== */
        .gallery-grid {
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px; 
            padding: 40px; 
            min-height: 50vh;
        }
        
        .gallery-item { 
            background: #1e1e1e; 
            border-radius: 8px; 
            overflow: hidden; 
            transition: transform 0.3s ease; 
        }
        
        .gallery-item:hover { 
            transform: translateY(-5px); 
        }
        
        .gallery-item img { 
            width: 100%; 
            height: 250px; 
            object-fit: cover; 
            display: block; 
        }
        
        .info { 
            padding: 20px; 
        }
        
        .info h3 { 
            margin: 0 0 10px 0; 
            font-size: 1.1rem; 
            color: #fff; 
        }
        
        .tags-row { 
            display: flex; 
            gap: 8px; 
            flex-wrap: wrap; 
        }
        
        .tag-badge { 
            font-size: 0.75rem; 
            padding: 4px 10px; 
            border-radius: 4px; 
            color: #000; 
            font-weight: 600; 
        }
        
        .tag-space { background-color: #a8d5e2; }
        .tag-vibe { background-color: #e2a8a8; }
        .tag-detail { background-color: #dbe2a8; }

        /* ==============================
           5. Ìë∏ÌÑ∞ ÏòÅÏó≠
           ============================== */
        footer {
            background-color: #000000; 
            color: #333333; 
            text-align: center;
            padding: 80px 20px; 
            font-size: 0.85rem; 
            letter-spacing: 0.5px;
        }
        
        footer a { 
            color: #333333; 
            text-decoration: none; 
            border-bottom: 1px solid #333; 
            transition: color 0.3s; 
        }
        
        footer a:hover { 
            color: #666; 
            border-color: #666; 
        }
    </style>
</head>
<body>

    <header id="main-header">
        <h1>sconee Archive</h1>
        <p>Curated Inspiration for Space & Design</p>

        <div class="music-widget">
            <div class="music-mood-btns">
                <button class="mood-btn active" onclick="changeMood('jazz', this)">Jazz</button>
                <button class="mood-btn" onclick="changeMood('chill', this)">Chill</button>
                <button class="mood-btn" onclick="changeMood('classic', this)">Classic</button>
            </div>
            <button id="play-btn" onclick="toggleMusic()">‚ñ∂ Play</button>
            <div id="youtube-player" style="display: none;"></div>
        </div>
    </header>

    <div class="filter-section">
        <div class="filter-row">
            <span class="filter-label">Space</span>
            <div class="filter-group" id="filter-space">
                <button class="filter-btn active" onclick="filterGallery('space', 'all')">All</button>
            </div>
        </div>
        <div class="filter-row">
            <span class="filter-label">Vibe</span>
            <div class="filter-group" id="filter-vibe">
                <button class="filter-btn active" onclick="filterGallery('vibe', 'all')">All</button>
            </div>
        </div>
        <div class="filter-row">
            <span class="filter-label">Detail</span>
            <div class="filter-group" id="filter-detail">
                <button class="filter-btn active" onclick="filterGallery('detail', 'all')">All</button>
            </div>
        </div>
    </div>

    <div class="gallery-grid" id="gallery-grid"></div>

    <footer>
        If you have any inquiry, send email to <a href="mailto:sconee9@gmail.com">sconee9@gmail.com</a>
    </footer>

    <script>
        // ============================================================
        // 1. Ïú†ÌäúÎ∏å ÎÆ§ÏßÅ ÏÑ§Ï†ï (ÎûúÎç§ Ïû¨ÏÉù Í∏∞Îä• Ìè¨Ìï®)
        // ============================================================
        
        // üì¢ [ÏàòÏ†ïÌïÑÏöî] Ïó¨Í∏∞Ïóê PLÎ°ú ÏãúÏûëÌïòÎäî Ïû¨ÏÉùÎ™©Î°ù IDÎ•º ÎÑ£Ïñ¥Ï£ºÏÑ∏Ïöî.
        const playlists = {
            'jazz': 'PLxjckBrY2dKgyFDHw95kUds2DaCYJJzkY',    
            'chill': 'PLxjckBrY2dKjv04slgG3W39D0nyVdYYoK',   
            'classic': 'PLxjckBrY2dKgh7NE23RMnP7GBOJsSR2Jf'  
        };

        // Ïú†ÌäúÎ∏å API Î°úÎìú
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;
        var currentMood = 'jazz';
        var isPlaying = false;

        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-player', {
                height: '0', 
                width: '0',
                playerVars: { 
                    'listType': 'playlist', 
                    'list': playlists[currentMood], 
                    'autoplay': 0, 
                    'loop': 1 
                },
                events: { 
                    'onReady': onPlayerReady 
                }
            });
        }

        // ÌîåÎ†àÏù¥Ïñ¥ Ï§ÄÎπÑ ÏôÑÎ£å Ïãú Ïã§Ìñâ (ÏÖîÌîå ÏÑ§Ï†ï)
        function onPlayerReady(event) {
            event.target.setShuffle({'shufflePlaylist': true});
        }

        // Ïû¨ÏÉù / ÏùºÏãúÏ†ïÏßÄ ÌÜ†Í∏Ä
        function toggleMusic() {
            var btn = document.getElementById('play-btn');
            if (isPlaying) {
                player.pauseVideo();
                btn.innerText = "‚ñ∂ Play";
                btn.classList.remove('playing');
                isPlaying = false;
            } else {
                // Ïû¨ÏÉù Ïãú ÏÖîÌîåÎêú Îã§Ïùå Í≥°ÏúºÎ°ú ÎÑòÍ≤®ÏÑú ÏûêÏó∞Ïä§ÎüΩÍ≤å ÏãúÏûë
                player.playVideoAt(0); 
                player.playVideo();
                btn.innerText = "‚è∏ Pause";
                btn.classList.add('playing');
                isPlaying = true;
            }
        }

        // Î¨¥Îìú(Ïû•Î•¥) Î≥ÄÍ≤Ω Ìï®Ïàò
        function changeMood(mood, btnElement) {
            // 1. Î≤ÑÌäº Ïä§ÌÉÄÏùº Î≥ÄÍ≤Ω (ÌÅ¥Î¶≠Ìïú Î≤ÑÌäºÎßå ÌôúÏÑ±Ìôî)
            document.querySelectorAll('.mood-btn').forEach(b => b.classList.remove('active'));
            btnElement.classList.add('active');

            // 2. ÌîåÎ†àÏù¥Ïñ¥ Î¶¨Ïä§Ìä∏ ÍµêÏ≤¥
            currentMood = mood;
            if (playlists[currentMood]) {
                player.loadPlaylist({ 
                    list: playlists[currentMood], 
                    listType: 'playlist' 
                });
                
                // 3. Î¶¨Ïä§Ìä∏ ÍµêÏ≤¥ ÌõÑ Îã§Ïãú ÏÖîÌîå Ï†ÅÏö©
                player.setShuffle({'shufflePlaylist': true});
                
                if (isPlaying) {
                    player.playVideo();
                } else {
                    player.stopVideo();
                }
            }
        }


        // ============================================================
        // 2. Í∞§Îü¨Î¶¨ & ÌïÑÌÑ∞ Î°úÏßÅ (JSON Îç∞Ïù¥ÌÑ∞ Ï≤òÎ¶¨)
        // ============================================================
        
        let allData = [];
        let currentFilters = { space: 'all', vibe: 'all', detail: 'all' };

        // Îç∞Ïù¥ÌÑ∞ Î∂àÎü¨Ïò§Í∏∞
        fetch('data.json')
            .then(response => response.json())
            .then(data => {
                allData = data;
                
                // ÏµúÏã† Ïù¥ÎØ∏ÏßÄÎ•º Ìó§Îçî Î∞∞Í≤ΩÏúºÎ°ú ÏÑ§Ï†ï
                if(data.length > 0) {
                    document.getElementById('main-header').style.backgroundImage = 
                        `linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.8)), url('${data[0].img}')`;
                }

                generateFilters(data);
                renderGallery(data);
            })
            .catch(error => console.error('Error loading data:', error));

        // ÌïÑÌÑ∞ Î≤ÑÌäº ÏûêÎèô ÏÉùÏÑ±
        function generateFilters(data) {
            const spaces = new Set();
            const vibes = new Set();
            const details = new Set();

            data.forEach(item => {
                if (item.space) spaces.add(item.space);
                if (item.vibe) vibes.add(item.vibe);
                if (item.detail) details.add(item.detail);
                // Íµ¨Ìòï ÌÉúÍ∑∏ Ìò∏ÌôòÏÑ±
                if (item.tags && !item.space) {
                    item.tags.split('|').forEach(t => spaces.add(t.trim()));
                }
            });

            createButtons('filter-space', spaces, 'space');
            createButtons('filter-vibe', vibes, 'vibe');
            createButtons('filter-detail', details, 'detail');
        }

        // Î≤ÑÌäº HTML ÎßåÎì§Í∏∞
        function createButtons(containerId, tagSet, type) {
            const container = document.getElementById(containerId);
            tagSet.forEach(tag => {
                const btn = document.createElement('button');
                btn.className = 'filter-btn';
                btn.innerText = tag;
                btn.onclick = (e) => {
                    container.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    e.target.classList.add('active');
                    filterGallery(type, tag);
                };
                container.appendChild(btn);
            });
        }

        // ÌïÑÌÑ∞ÎßÅ Î°úÏßÅ (3Îã® ÌïÑÌÑ∞ AND Ï°∞Í±¥)
        function filterGallery(type, value) {
            currentFilters[type] = value;

            const filtered = allData.filter(item => {
                const matchSpace = (currentFilters.space === 'all') || 
                                   (item.space === currentFilters.space) || 
                                   (item.tags && item.tags.includes(currentFilters.space));
                
                const matchVibe = (currentFilters.vibe === 'all') || 
                                  (item.vibe === currentFilters.vibe);
                
                const matchDetail = (currentFilters.detail === 'all') || 
                                    (item.detail === currentFilters.detail);

                return matchSpace && matchVibe && matchDetail;
            });

            renderGallery(filtered);
        }

        // ÌôîÎ©¥ Í∑∏Î¶¨Í∏∞
        function renderGallery(items) {
            const grid = document.getElementById('gallery-grid');
            grid.innerHTML = '';
            
            items.forEach(item => {
                const div = document.createElement('div');
                div.className = 'gallery-item';
                
                let tagsHtml = '';
                if(item.space) tagsHtml += `<span class="tag-badge tag-space">${item.space}</span>`;
                if(item.vibe) tagsHtml += `<span class="tag-badge tag-vibe">${item.vibe}</span>`;
                if(item.detail) tagsHtml += `<span class="tag-badge tag-detail">${item.detail}</span>`;
                if(item.tags && !item.space) tagsHtml += `<span class="tag-badge tag-space">${item.tags}</span>`;

                div.innerHTML = `
                    <a href="${item.img}" target="_blank">
                        <img src="${item.img}" alt="${item.title}" loading="lazy">
                    </a>
                    <div class="info">
                        <h3>${item.title}</h3>
                        <div class="tags-row">${tagsHtml}</div>
                    </div>
                `;
                grid.appendChild(div);
            });
        }
    </script>
</body>
</html>