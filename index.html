<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sconee Archive</title>
    <style>
        /* --- 1. ê¸°ë³¸ ìŠ¤íƒ€ì¼ --- */
        body { margin: 0; padding: 0; background-color: #121212; color: #ffffff; font-family: 'Helvetica Neue', sans-serif; }
        
        /* --- 2. í—¤ë” & ìŒì•… ìœ„ì ¯ --- */
        header { 
            height: 50vh; 
            background-size: cover; background-position: center;
            display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;
            position: relative;
        }
        h1 { font-size: 3rem; margin-bottom: 10px; font-weight: 700; letter-spacing: 1px; text-shadow: 0 2px 10px rgba(0,0,0,0.5); }
        p { font-size: 1.2rem; color: #e0e0e0; text-shadow: 0 1px 5px rgba(0,0,0,0.5); }

        /* ìŒì•… ìœ„ì ¯ ë””ìì¸ */
        .music-widget {
            position: absolute; top: 20px; right: 30px;
            background: rgba(0, 0, 0, 0.65);
            padding: 8px 15px; border-radius: 30px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(8px); z-index: 1000;
            display: flex; gap: 10px; align-items: center;
        }
        #mood-select {
            background: transparent; border: none; color: #ddd;
            font-size: 0.85rem; font-weight: 500; cursor: pointer;
            outline: none; text-align: right;
        }
        #mood-select option { background: #333; color: #fff; }
        #play-btn {
            background: #fff; color: #000; border: none;
            padding: 6px 14px; border-radius: 20px;
            cursor: pointer; font-size: 0.8rem; font-weight: bold;
            transition: all 0.3s ease;
        }
        #play-btn:hover { transform: scale(1.05); }
        #play-btn.playing { background: #e2a8a8; animation: pulse 2s infinite; }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(226, 168, 168, 0.6); }
            70% { box-shadow: 0 0 0 8px rgba(226, 168, 168, 0); }
            100% { box-shadow: 0 0 0 0 rgba(226, 168, 168, 0); }
        }

        /* --- 3. 3ë‹¨ í•„í„° --- */
        .filter-section { padding: 20px 40px; background-color: #1a1a1a; border-bottom: 1px solid #333; }
        .filter-row { display: flex; align-items: center; margin-bottom: 15px; flex-wrap: wrap; }
        .filter-label { width: 80px; font-size: 0.8rem; color: #888; font-weight: bold; text-transform: uppercase; }
        .filter-group { display: flex; gap: 8px; flex-wrap: wrap; }
        .filter-btn {
            background: #333; border: 1px solid #444; color: #ccc;
            padding: 6px 14px; border-radius: 15px; cursor: pointer; font-size: 0.85rem;
            transition: all 0.2s ease;
        }
        .filter-btn:hover, .filter-btn.active { background: #fff; color: #000; border-color: #fff; }

        /* --- 4. ê°¤ëŸ¬ë¦¬ ê·¸ë¦¬ë“œ --- */
        .gallery-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px; padding: 40px; min-height: 50vh;
        }
        .gallery-item { background: #1e1e1e; border-radius: 8px; overflow: hidden; transition: transform 0.3s ease; }
        .gallery-item:hover { transform: translateY(-5px); }
        .gallery-item img { width: 100%; height: 250px; object-fit: cover; display: block; }
        .info { padding: 15px; }
        .info h3 { margin: 0 0 8px 0; font-size: 1.1rem; color: #fff; }
        .tags-row { display: flex; gap: 6px; flex-wrap: wrap; }
        .tag-badge { font-size: 0.7rem; padding: 3px 8px; border-radius: 4px; color: #000; font-weight: 600; }
        .tag-space { background-color: #a8d5e2; }
        .tag-vibe { background-color: #e2a8a8; }
        .tag-detail { background-color: #dbe2a8; }

        /* --- 5. í‘¸í„° (ìš”ì²­í•˜ì‹  í•˜ë‹¨ ë¬¸êµ¬) --- */
        footer {
            background-color: #000000; /* ì™„ì „ ê²€ì • */
            color: #333333;            /* ì•„ì£¼ ì–´ë‘ìš´ íšŒìƒ‰ (ëª…ë„ 3ë‹¨ê³„ ì—…) */
            text-align: center;
            padding: 60px 20px;        /* ì—¬ë°± ë„‰ë„‰íˆ */
            font-size: 0.8rem;
            letter-spacing: 0.5px;
        }
        footer a { color: #333333; text-decoration: none; border-bottom: 1px solid #333; transition: color 0.3s; }
        footer a:hover { color: #666; border-color: #666; }
    </style>
</head>
<body>

    <header id="main-header">
        <h1>Sconee Archive</h1>
        <p>Curated Inspiration for Space & Design</p>

        <div class="music-widget">
            <select id="mood-select" onchange="changeMood()">
                <option value="jazz">ğŸ· Jazz Vibe</option>
                <option value="chill">â˜• Chillout</option>
                <option value="classic">ğŸ» Classic</option>
            </select>
            <button id="play-btn" onclick="toggleMusic()">â–¶ Play</button>
            <div id="youtube-player" style="display: none;"></div>
        </div>
    </header>

    <div class="filter-section">
        <div class="filter-row">
            <span class="filter-label">Space</span>
            <div class="filter-group" id="filter-space"><button class="filter-btn active" onclick="filterGallery('space', 'all')">All</button></div>
        </div>
        <div class="filter-row">
            <span class="filter-label">Vibe</span>
            <div class="filter-group" id="filter-vibe"><button class="filter-btn active" onclick="filterGallery('vibe', 'all')">All</button></div>
        </div>
        <div class="filter-row">
            <span class="filter-label">Detail</span>
            <div class="filter-group" id="filter-detail"><button class="filter-btn active" onclick="filterGallery('detail', 'all')">All</button></div>
        </div>
    </div>

    <div class="gallery-grid" id="gallery-grid"></div>

    <footer>
        If you have any inquiry, send email to <a href="mailto:sconee9@gmail.com">sconee9@gmail.com</a>
    </footer>

    <script>
        // ==============================
        // 1. ìœ íŠœë¸Œ ì„¤ì • (ê¼­ ì¬ìƒëª©ë¡ IDë¡œ ë„£ì–´ì£¼ì„¸ìš”!)
        // ==============================
        const playlists = {
            'jazz': 'tpQug5KNpc4',    // [ì£¼ì˜] ì—¬ê¸°ì— PLë¡œ ì‹œì‘í•˜ëŠ” ID ë„£ê¸°
            'chill': 'IRZxjJ08rLg',   // [ì£¼ì˜] ì—¬ê¸°ì— PLë¡œ ì‹œì‘í•˜ëŠ” ID ë„£ê¸°
            'classic': 'j5PzAGPDuTc'  // [ì£¼ì˜] ì—¬ê¸°ì— PLë¡œ ì‹œì‘í•˜ëŠ” ID ë„£ê¸°
        };

        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;
        var currentMood = 'jazz';
        var isPlaying = false;

        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-player', {
                height: '0', width: '0',
                playerVars: { 'listType': 'playlist', 'list': playlists[currentMood], 'autoplay': 0, 'loop': 1 },
                events: { 'onReady': onPlayerReady }
            });
        }
        function onPlayerReady(event) {}

        function toggleMusic() {
            var btn = document.getElementById('play-btn');
            if (isPlaying) {
                player.pauseVideo();
                btn.innerText = "â–¶ Play";
                btn.classList.remove('playing');
                isPlaying = false;
            } else {
                player.playVideo();
                btn.innerText = "â¸ Pause";
                btn.classList.add('playing');
                isPlaying = true;
            }
        }

        function changeMood() {
            var selector = document.getElementById('mood-select');
            currentMood = selector.value;
            if (playlists[currentMood]) {
                player.loadPlaylist({ list: playlists[currentMood], listType: 'playlist' });
                if (isPlaying) player.playVideo();
                else player.stopVideo();
            }
        }

        // ==============================
        // 2. ê°¤ëŸ¬ë¦¬ ë¡œì§
        // ==============================
        let allData = [];
        let currentFilters = { space: 'all', vibe: 'all', detail: 'all' };

        fetch('data.json')
            .then(response => response.json())
            .then(data => {
                allData = data;
                if(data.length > 0) {
                    document.getElementById('main-header').style.backgroundImage = 
                        `linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.8)), url('${data[0].img}')`;
                }
                generateFilters(data);
                renderGallery(data);
            });

        function generateFilters(data) {
            const spaces = new Set(); const vibes = new Set(); const details = new Set();
            data.forEach(item => {
                if (item.space) spaces.add(item.space);
                if (item.vibe) vibes.add(item.vibe);
                if (item.detail) details.add(item.detail);
                if (item.tags && !item.space) item.tags.split('|').forEach(t => spaces.add(t.trim()));
            });
            createButtons('filter-space', spaces, 'space');
            createButtons('filter-vibe', vibes, 'vibe');
            createButtons('filter-detail', details, 'detail');
        }

        function createButtons(containerId, tagSet, type) {
            const container = document.getElementById(containerId);
            tagSet.forEach(tag => {
                const btn = document.createElement('button');
                btn.className = 'filter-btn';
                btn.innerText = tag;
                btn.onclick = (e) => {
                    container.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    e.target.classList.add('active');
                    filterGallery(type, tag);
                };
                container.appendChild(btn);
            });
        }

        function filterGallery(type, value) {
            currentFilters[type] = value;
            const filtered = allData.filter(item => {
                const matchSpace = (currentFilters.space === 'all') || (item.space === currentFilters.space) || (item.tags && item.tags.includes(currentFilters.space));
                const matchVibe = (currentFilters.vibe === 'all') || (item.vibe === currentFilters.vibe);
                const matchDetail = (currentFilters.detail === 'all') || (item.detail === currentFilters.detail);
                return matchSpace && matchVibe && matchDetail;
            });
            renderGallery(filtered);
        }

        function renderGallery(items) {
            const grid = document.getElementById('gallery-grid');
            grid.innerHTML = '';
            items.forEach(item => {
                const div = document.createElement('div');
                div.className = 'gallery-item';
                let tagsHtml = '';
                if(item.space) tagsHtml += `<span class="tag-badge tag-space">${item.space}</span>`;
                if(item.vibe) tagsHtml += `<span class="tag-badge tag-vibe">${item.vibe}</span>`;
                if(item.detail) tagsHtml += `<span class="tag-badge tag-detail">${item.detail}</span>`;
                if(item.tags && !item.space) tagsHtml += `<span class="tag-badge tag-space">${item.tags}</span>`;

                div.innerHTML = `
                    <a href="${item.img}" target="_blank"><img src="${item.img}" alt="${item.title}" loading="lazy"></a>
                    <div class="info"><h3>${item.title}</h3><div class="tags-row">${tagsHtml}</div></div>
                `;
                grid.appendChild(div);
            });
        }
    </script>
</body>
</html>